<%- include('partials/header') %>
<body class="auth-body">
  <main class="auth-layout">
    <section class="auth-card" aria-labelledby="loginTitle">
      <div class="auth-logo">
        <img src="/assets/logo.png" alt="LATE">
      </div>
      <h1 id="loginTitle" class="auth-title">Entrar</h1>
      <p class="auth-subtitle">Acesse o painel e acompanhe os contatos da sua equipe.</p>

      <form method="POST" action="/login" class="auth-form">
        <input type="hidden" name="_csrf" value="<%= csrfToken %>">
        <label for="email" class="auth-label">E-mail</label>
        <input type="email" class="auth-input" id="email" name="email" required autocomplete="email">

        <label for="password" class="auth-label">Senha</label>
        <div class="password-field">
          <input
            type="password"
            class="auth-input"
            id="password"
            name="password"
            required
            autocomplete="current-password"
          >
          <button
            type="button"
            class="password-toggle-btn"
            data-password-toggle="password"
            aria-pressed="false"
          >
            <span data-password-toggle-label>Mostrar</span>
          </button>
        </div>

        <% if (typeof error !== 'undefined') { %>
          <div class="auth-error" role="alert"><%= error %></div>
        <% } %>

        <button type="submit" class="btn btn-primary auth-submit">Entrar</button>
      </form>

      <div class="auth-help">
        <a href="/account/password/recover">Recupere sua senha</a>
        <span aria-hidden="true"> · </span>
        <button
          type="button"
          class="auth-link"
          data-toggle-target="#loginHelpContent"
          aria-expanded="false"
        >Precisa de ajuda?</button>
      </div>

      <section id="loginHelpContent" class="auth-inline-card" hidden>
        <h2 class="auth-inline-title">Central de ajuda</h2>
        <ul class="auth-inline-list">
          <li>Entre com seu e-mail corporativo. Se esqueceu a senha, peça um reset ao administrador.</li>
          <li>Após o login, use o menu superior para acessar Dashboard, Contatos e Novo Contato.</li>
          <li>Para suporte, registre um contato para o setor responsável com horário e detalhes da ocorrência.</li>
        </ul>
        <p class="auth-inline-footnote">Dica: mantenha usuários e setores atualizados para que as notificações por e-mail cheguem ao responsável certo.</p>
      </section>
    </section>

    <section class="auth-hero" aria-hidden="true">
      <div class="auth-hero-content">
        <h2 class="auth-hero-title">Simplifique a gestão de contatos</h2>
        <p class="auth-hero-text">
          Centralize informações, acompanhe status em tempo real e mantenha sua equipe alinhada.
        </p>
        <button
          type="button"
          class="btn btn-outline auth-hero-action"
          data-toggle-target="#loginNewsContent"
          aria-expanded="false"
        >Saiba mais</button>
      </div>
    </section>
  </main>

  <section id="loginNewsContent" class="auth-inline-card auth-inline-card--floating" hidden aria-live="polite">
    <h2 class="auth-inline-title">Novidade recente</h2>
    <p>Ativamos a notificação automática por e-mail sempre que um contato é registrado. O destinatário recebe um resumo com o botão <strong>“Abrir contato”</strong> para responder rapidamente.</p>
    <ul class="auth-inline-list">
      <li>O fluxo de cadastro permanece igual: sem novos campos obrigatórios.</li>
      <li>Se o envio falhar, o contato continua salvo e o time técnico recebe um alerta.</li>
      <li>Garanta que os setores e usuários estejam corretos para que as mensagens cheguem ao responsável certo.</li>
    </ul>
  </section>

  <%- include('partials/footer') %>
