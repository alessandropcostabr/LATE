<%- include('partials/header') %>
<body>
  <%- include('partials/navbar') %>

  <main class="main" role="main">
    <div class="container">
      <% if (typeof csrfToken !== 'undefined' && csrfToken) { %>
        <meta name="csrf-token" content="<%= csrfToken %>">
      <% } %>
      <div
        class="card"
        id="detalhesRecado"
        data-id="<%= id %>"
        data-can-delete="<%= permissions && permissions.deleteMessages ? 'true' : 'false' %>"
      >
        <div class="card-header">
          <h2 class="card-title">Detalhes do Recado</h2>
        </div>
        <div class="card-body" id="conteudoRecado">
          <p>Carregando...</p>
        </div>
        <div class="card-footer">
          <div style="display:flex;gap:1rem;flex-wrap:wrap;">
            <a href="/recados" class="btn btn-outline" data-back-button>Voltar</a>
            <% if (permissions && permissions.updateMessages) { %>
              <a href="/editar-recado/<%= id %>" class="btn btn-primary" data-edit-button>âœï¸ Editar</a>
            <% } %>
            <% if (permissions && permissions.deleteMessages) { %>
              <button type="button" class="btn btn-danger" data-delete-button>ğŸ—‘ï¸ Excluir</button>
            <% } %>
          </div>
        </div>
      </div>
    </div>
  </main>

  <%- include('partials/footer', { scripts: ['/js/visualizar-recado.js'] }) %>
